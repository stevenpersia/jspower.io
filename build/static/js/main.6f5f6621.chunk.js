(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/puissance.8a25566d.mp3"},115:function(e,t,a){e.exports=a.p+"static/media/dab2.1e577a68.gif"},122:function(e,t,a){e.exports=a(321)},127:function(e,t,a){},213:function(e,t,a){},215:function(e,t,a){},306:function(e,t,a){},308:function(e,t,a){},310:function(e,t,a){},318:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),o=a.n(i),s=a(17),l=a(18),c=a(20),u=a(19),m=a(21),d=a(322),h=a(312),p=a(9),g=a.n(p),f=(a(127),a(110)),b=a.n(f),v=a(111),y=a.n(v),E=a(68),k=a.n(E),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement(b.a,{className:"item"},r.a.createElement(y.a,null,r.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},this.props.title),r.a.createElement(k.a,{paragraph:!0},this.props.description),r.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer",alt:this.props.title,className:"button"},"Go to website"))))}}]),t}(n.Component),O=a(22),C=a.n(O),j=(a(213),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={categoryLinks:[""]},a.renderLinks=function(){var e=[];if(a.state.categoryLinks){for(var t=0;t<a.state.categoryLinks.length;t++)e.push(r.a.createElement(w,{key:t,id:a.state.categoryLinks[t]._id,title:a.state.categoryLinks[t].title,description:a.state.categoryLinks[t].description,url:a.state.categoryLinks[t].url,vote:a.state.categoryLinks[t].vote}));return e}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",xs:12,md:9},this.renderLinks())}},{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:3001/api/categories/"+this.props.match.params.id).then(function(t){e.setState({categoryLinks:t.data.links})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.match.params.id===e.match.params.id&&this.state.categoryLinks===t||C.a.get("http://localhost:3001/api/categories/"+this.props.match.params.id).then(function(e){a.setState({categoryLinks:e.data.links})}).catch(function(e){console.log(e)})}}]),t}(n.Component)),N=a(27),x=a(25),L=a.n(x),I=a(112),_=a.n(I),A=(a(215),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={listCategories:[],title:"",description:"",url:"",category:"",errors:{title:!1,description:!1,color:!1,category:!1}},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(N.a)({},r,n))},a.redirectToLoginPage=function(){a.props.history.push("/login")},a.onSubmit=function(e){if(a.state.title&&a.state.description&&a.state.url&&a.state.category)C.a.post("http://localhost:3001/api/links/",{title:a.state.title,description:a.state.description,url:a.state.url,vote:0,category:a.state.category},{headers:{authorization:"Bearer "+a.props.user.token}}).then(function(e){a.props.history.push("/")}).catch(function(e){console.log(e)});else{var t=0===a.state.title.length,n=0===a.state.description.length,r=0===a.state.url.length,i=0===a.state.category.length;a.setState({errors:{title:t,description:n,url:r,category:i}})}e.preventDefault()},a.renderOptions=function(){for(var e=[],t=0;t<a.state.listCategories.length;t++)e.push(r.a.createElement(_.a,{value:a.state.listCategories[t]._id},a.state.listCategories[t].title));return e},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",xs:12,md:9,style:{paddingTop:50}},r.a.createElement("form",null,r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"title",label:"Title of link",error:!0===this.state.errors.title?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"description",label:"Description of link",error:!0===this.state.errors.description?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"url",label:"URL",placeholder:"https://",error:!0===this.state.errors.url?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"category",select:!0,label:"Category",error:!0===this.state.errors.category?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}},this.renderOptions())),r.a.createElement(g.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:40}},r.a.createElement("a",{className:"button-send",onClick:this.onSubmit},"Submit link"))))}},{key:"componentDidMount",value:function(){var e=this;this.props.user.token?C.a.get("http://localhost:3001/api/categories/").then(function(t){e.setState({listCategories:t.data})}).catch(function(e){console.log(e)}):this.redirectToLoginPage()}}]),t}(n.Component)),S=(a(306),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",color:"",errors:{title:!1,description:!1,color:!1}},a.redirectToLoginPage=function(){a.props.history.push("/login")},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(N.a)({},r,n))},a.onSubmit=function(e){if(a.state.title&&a.state.description&&a.state.color)C.a.post("http://localhost:3001/api/categories/",{title:a.state.title,description:a.state.description,color:a.state.color},{headers:{authorization:"Bearer "+a.props.user.token}}).then(function(e){a.props.history.push("/")}).catch(function(e){console.log(e)});else{var t=0===a.state.title.length,n=0===a.state.description.length,r=0===a.state.color.length;a.setState({errors:{title:t,description:n,color:r}})}e.preventDefault()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",xs:12,md:9,style:{paddingTop:50}},r.a.createElement("form",null,r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"title",label:"Titre de la cat\xe9gorie",error:!0===this.state.errors.title?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"description",label:"Description de la cat\xe9gorie",error:!0===this.state.errors.description?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"color",label:"Code couleur",placeholder:"F2F2F2",error:!0===this.state.errors.color?"error":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:40}},r.a.createElement("a",{className:"button-send",onClick:this.onSubmit},"Create category"))))}},{key:"componentDidMount",value:function(){this.props.user.token||this.redirectToLoginPage()}}]),t}(n.Component)),D=(a(308),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",errors:{email:!1,password:!1}},a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(N.a)({},r,n))},a.redirectToLoginPage=function(){a.props.history.push("/")},a.onSubmit=function(e){if(a.state.email&&a.state.password)C.a.post("http://localhost:3001/api/users/log_in",{account:{email:a.state.email,password:a.state.password}}).then(function(e){e.data&&e.data.token&&(a.props.logIn({token:e.data.token,_id:e.data._id}),a.props.history.push("/"))}).catch(function(e){console.log(e)});else{var t=0===a.state.email.length,n=0===a.state.password.length;a.setState({errors:{email:t,password:n}})}e.preventDefault()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",xs:12,md:9,style:{paddingTop:50}},r.a.createElement("form",null,r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,name:"email",label:"Email address",error:!0===this.state.errors.email?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0},r.a.createElement(L.a,{required:!0,type:"password",name:"password",label:"Password",error:!0===this.state.errors.password?"enabled":"",onChange:this.handleInputChange,margin:"normal",style:{width:400}})),r.a.createElement(g.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:40}},r.a.createElement("a",{className:"button-send",onClick:this.onSubmit},"Log in"))))}},{key:"componentDidMount",value:function(){this.props.user.token&&this.redirectToLoginPage()}}]),t}(n.Component)),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={allLinks:[]},a.renderLinks=function(){var e=[];if(a.state.allLinks){for(var t=0;t<a.state.allLinks.length;t++)e.push(r.a.createElement(w,{key:t,id:a.state.allLinks[t]._id,title:a.state.allLinks[t].title,description:a.state.allLinks[t].description,url:a.state.allLinks[t].url,vote:a.state.allLinks[t].vote}));return e.reverse()}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",xs:12,md:9},this.renderLinks()))}},{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:3001/api/links/").then(function(t){e.setState({allLinks:t.data})}).catch(function(e){console.log(e)})}}]),t}(n.Component),P=a(30),q=a.n(P),W=a(113),F=a(324),B=a(323),M=a(114),R=a.n(M),U=a(115),z=a.n(U),J=a(118),G=a.n(J),K=a(117),$=a.n(K),H=(a(310),function(e){function t(){var e,a;Object(s.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={categories:[],dab:[],left:!1},a.puissance=function(){var e=[68,65,66],t=0,a=e.length,n=z.a;document.addEventListener("keydown",function(r){if(r.which===e[t]?t++:t=0,t>=a){document.getElementById("audio").play(),t=0;var i=new Image;i.src=n,i.style.width="500px",i.style.height="281px",i.style.transition="1s all",i.style.position="fixed",i.style.right="0",i.style.bottom="0",i.style.zIndex=999999,document.body.appendChild(i),window.setTimeout(function(){i.parentNode.removeChild(i)},2300)}})},a.onLogOut=function(e){a.props.logOut(),a.props.history.push("/")},a.renderCategories=function(){for(var e=[],t=0;t<a.state.categories.length;t++){var n="#"+a.state.categories[t].color;e.push(r.a.createElement(F.a,{to:{pathname:"/categories/"+a.state.categories[t]._id},className:"sidebar-link",key:[t],activeClassName:"active"},r.a.createElement("div",null,r.a.createElement("i",{className:"icon-logo",style:{verticalAlign:"middle",color:n}}),r.a.createElement("span",{className:"sidebar-link__text"},a.state.categories[t].title)),r.a.createElement("span",{className:"sidebar-link__number"},a.state.categories[t].links.length)))}return e},a.renderAccountNav=function(){return a.props.user&&a.props.user.token?r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{to:{pathname:"/add-link"},className:"sidebar-link",activeClassName:""},r.a.createElement("div",null,r.a.createElement("i",{className:"icon-logo",style:{verticalAlign:"middle"}}),r.a.createElement("span",{className:"sidebar-link__text"},"Add a link"))),r.a.createElement(F.a,{to:{pathname:"/create-category"},className:"sidebar-link",activeClassName:""},r.a.createElement("div",null,r.a.createElement("i",{className:"icon-logo",style:{verticalAlign:"middle"}}),r.a.createElement("span",{className:"sidebar-link__text"},"Create a category"))),r.a.createElement(F.a,{to:{pathname:"/"},onClick:function(){return a.onLogOut()},className:"sidebar-link",activeClassName:""},r.a.createElement("div",null,r.a.createElement("i",{className:"icon-logo",style:{verticalAlign:"middle"}}),r.a.createElement("span",{className:"sidebar-link__text"},"Log out")))):r.a.createElement(F.a,{to:{pathname:"/login"},className:"sidebar-link",activeClassName:""},r.a.createElement("div",null,r.a.createElement("i",{className:"icon-logo",style:{verticalAlign:"middle"}}),r.a.createElement("span",{className:"sidebar-link__text"},"Log in")))},a.toggleDrawer=function(e,t){return function(){a.setState(Object(W.a)({},a.state,Object(N.a)({},e,t)))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{item:!0,xs:12,md:3,className:"sidebar"},this.puissance(),r.a.createElement("audio",{id:"audio"},r.a.createElement("source",{src:R.a,type:"audio/mp3"})),r.a.createElement("div",{className:"logo"},r.a.createElement("a",{href:"/"},r.a.createElement("h2",{className:"top-bar__title"},r.a.createElement("i",{className:"icon-logo hot"})," JSPOWER.IO"),r.a.createElement("span",{className:"version"},"\u03b2eta"))),r.a.createElement("div",{className:"burger"},r.a.createElement("a",{onClick:this.toggleDrawer("left",!0)},r.a.createElement($.a,null))),r.a.createElement(G.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!1),onKeyDown:this.toggleDrawer("left",!1),style:{width:280}},r.a.createElement("span",{className:"sidebar-section__title"},"All categories"),this.renderCategories(),this.renderAccountNav())),r.a.createElement("section",{className:"sidebar-section categories"},r.a.createElement("span",{className:"sidebar-section__title"},"All categories"),this.renderCategories()),r.a.createElement("section",{className:"sidebar-section account"},this.renderAccountNav()))}},{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:3001/api/categories/").then(function(t){e.setState({categories:t.data})}).catch(function(e){console.log(e)})}}]),t}(n.Component)),Q=Object(B.a)(H),V=(a(318),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{_id:q.a.get("_id")||"",token:q.a.get("token")||""}},a.logIn=function(e){q.a.set("_id",e._id),q.a.set("token",e.token),a.setState({user:{_id:e._id,token:e.token}})},a.logOut=function(){q.a.remove("_id"),q.a.remove("token"),a.setState({user:{_id:"",token:""}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{container:!0,alignItems:"flex-start"},r.a.createElement(Q,{logOut:this.logOut,user:this.state.user}),r.a.createElement(h.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(T,Object.assign({},t,{logIn:e.logIn,logOut:e.logOut,user:e.state.user}))}}),r.a.createElement(h.a,{path:"/create-category",exact:!0,render:function(t){return r.a.createElement(S,Object.assign({},t,{logIn:e.logIn,user:e.state.user}))}}),r.a.createElement(h.a,{path:"/add-link",exact:!0,render:function(t){return r.a.createElement(A,Object.assign({},t,{logIn:e.logIn,user:e.state.user}))}}),r.a.createElement(h.a,{path:"/categories/:id",exact:!0,render:function(e){return r.a.createElement(j,e)}}),r.a.createElement(h.a,{path:"/login",exact:!0,render:function(t){return r.a.createElement(D,Object.assign({},t,{logIn:e.logIn,user:e.state.user}))}})))))}}]),t}(n.Component)),X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");X?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Y(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Y(t,e)})}}()}},[[122,2,1]]]);
//# sourceMappingURL=main.6f5f6621.chunk.js.map